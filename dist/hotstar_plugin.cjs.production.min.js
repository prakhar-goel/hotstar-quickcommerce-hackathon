"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Object.defineProperty(exports,"__esModule",{value:!0}),require("platform"),function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".hotstar_ad_component_wrapper{align-items:end;box-sizing:border-box;display:flex;flex-direction:row;height:100%;left:0;padding-bottom:7.5rem;padding-left:2rem;padding-right:2rem;position:absolute;top:0;width:100%;z-index:100}.hotstar_ad_component_wrapper .or_text{color:#fff;font-size:1rem;font-weight:500;margin-bottom:4.2rem;margin-left:auto;margin-right:auto}.hotstar_ad_component_wrapper .shop-button{align-items:center;background-color:transparent;color:#fff;display:flex;font-weight:500;gap:4px;margin-bottom:4.2rem;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.hotstar_ad_component_wrapper .shop-button span{font-family:inherit;font-size:inherit;font-weight:500}.hotstar_ad_component_wrapper .ad_item_card{align-items:center;background-color:#00000079;border-radius:8px;cursor:pointer;display:flex;flex-direction:row;height:10rem;margin-left:1rem;padding:10px;width:22rem}.hotstar_ad_component_wrapper .ad_item_card img{border-radius:8px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;-o-object-fit:cover;object-fit:cover;width:30%}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content{padding:0 10px;width:70%}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .title{color:#fff;font-size:1rem;font-weight:500}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .description{color:#ffffffb3;font-size:.8rem;font-weight:regular;margin-top:2px}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .price{color:#fff;font-size:1rem;font-weight:500;margin-top:1rem}.hotstar_ad_component_wrapper .qr_container{background-color:#00000079;border-radius:8px;display:flex;flex-direction:column;height:20rem;padding:1rem;width:18rem}.hotstar_ad_component_wrapper .qr_container img{border-radius:8px;height:auto;-o-object-fit:contain;object-fit:contain;width:100%}.hotstar_ad_component_wrapper .qr_container p{color:#fff;font-size:1rem;font-weight:500;margin-top:1rem;text-align:center}@media only screen and (max-width:650px){.hotstar_ad_component_wrapper{bottom:20%}@media(orientation:landscape){.maxtap_main>p{font-size:calc(1vw + .2rem)}}@media (orientation:portrait){.maxtap_main>p{font-size:calc(1vw + .3rem)}}}");var t={onam:{adsData:[{startTime:5,endTime:20,items:[{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",redirectUrl:"https://www.swiggy.com/city/delhi/dominos-pizza-100-ft-road-chhatarpur-rest239854",title:"Cheese Volcano Farmhouse",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹299"},{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",redirectUrl:"https://www.swiggy.com/city/delhi/dominos-pizza-100-ft-road-chhatarpur-rest239854",title:"Cheese Volcano Farmhouse",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹299"},{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",redirectUrl:"https://www.swiggy.com/city/delhi/dominos-pizza-100-ft-road-chhatarpur-rest239854",title:"Cheese Volcano Farmhouse",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹299"}],qrData:{qrImageUrl:"https://images.squarespace-cdn.com/content/v1/5d3f241fa4e0350001fa20d5/1636491460338-AIZAXV2978MGIDQE0GT7/qr-code.png?format=2500w",title:"Cheese Volcano Blazing Chicken"}}]}},n=function(){for(var e=document.querySelectorAll("video"),t=0;t<e.length;t++)if("VIDEO"===e[t].tagName)return e[t]},o=function(){var e=document.querySelector("[data-displaymaxtap]"),t=document.querySelector(".maxtap_img_wrapper");if(document.querySelector(".maxtap_img_wrapper")&&window.innerWidth>740&&e&&t){var n=.05*e.getBoundingClientRect().width;t.style.width=n>50?n+"px":"50px"}},i=new(function(){function i(){var i=this;this.currentComponentIndex=-1,this.isInitialized=!1,this.init=function(e){var r;if(i.isInitialized||document.getElementById("hotstar_ad_plugin"))console.log("Re-Initializing");else if(e.contentId)try{if(i.isInitialized=!0,i.contentId=e.contentId,"undefined"==typeof window)throw new ReferenceError("'window.document' is undefined while initializing Ads. Initialize in lifecyle events");i.video=n(),(r=i.contentId,new Promise((function(e,n){t[r]?(console.log("adsData",t[r].adsData),e(t[r].adsData)):(console.log(t,r),console.log(t[r]),n("No data found"))}))).then((function(e){i.componentsData=e,i.componentsData?(i.addAdElement(),window.addEventListener("resize",(function(){o()})),i.intervalId=setInterval(i.updateComponent,1e3)):console.error("Ad data is empty!")})).catch((function(e){console.error(e)}))}catch(e){console.error(e),i.isInitialized=!1}else console.error("ContentId is missing")},this.updateComponent=function(){if(i.video){if(!i.adDivComponent)return i.addAdElement(),void console.error("Ad element is not present",{method:"updateComponent"});if(i.componentsData)if(i.video.parentElement===i.adDivComponent.parentElement||(console.error("Ad element is not sibling to video element",{method:"updateComponent"}),i.adDivComponent.remove(),i.addAdElement())){var e=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t>=o.startTime&&t<=o.endTime)return n}return-1}(i.componentsData,Math.floor(i.video.currentTime));console.log("newAdComponentIndex",e),e<0?i.removeCurrentAdElement(i.adDivComponent):(i.currentComponentIndex=e,i.canCloseAd(Math.floor(i.video.currentTime))&&"none"!==i.adDivComponent.style.display&&(console.log("Removing ad",{methodName:"updateComponent"}),i.removeCurrentAdElement(i.adDivComponent)),i.canAdDisplay(Math.floor(i.video.currentTime))&&i.adDivComponent&&"none"===i.adDivComponent.style.display&&(console.log("Displaying ad",{methodName:"updateComponent"}),i.displayAd()))}else console.error("Ad element is not present",{method:"updateComponent"});else console.error("Ad data is empty!",{method:"updateComponent"})}else i.video=n()},this.addAdElement=function(){var e;return!!i.video&&(i.video.style.width="100%",i.video.style.height="100%",i.parentElement=i.video.parentElement,!!i.parentElement&&(i.parentElement.style.position="relative",i.adDivComponent=document.createElement("div"),i.adDivComponent.style.display="none",i.adDivComponent.id="hotstar_ad_plugin",i.adDivComponent.className="hotstar_ad_component_wrapper",null==(e=i.parentElement)||e.appendChild(i.adDivComponent),i.adDivComponent.addEventListener("click",i.redirectToAd),o(),!0))},this.canAdDisplay=function(e){var t=i.componentsData[i.currentComponentIndex];return!(t.startTime<0||!i.componentsData||!t)&&e<i.componentsData[i.currentComponentIndex].endTime&&e>i.componentsData[i.currentComponentIndex].startTime},this.canCloseAd=function(e){return!i.componentsData||!(i.componentsData[i.currentComponentIndex].startTime<0)&&(e>i.componentsData[i.currentComponentIndex].endTime||e<i.componentsData[i.currentComponentIndex].startTime)},this.removeCurrentAdElement=function(e){e&&(e.style.display="none",e.innerHTML="")},this.displayAd=function(){if(i.adDivComponent&&i.componentsData){if("flex"!==i.adDivComponent.style.display&&!(i.currentComponentIndex<0)&&i.componentsData[i.currentComponentIndex]){var t=i.componentsData[i.currentComponentIndex];t.items.length>3&&(t.items=t.items.slice(0,3));var n=document.createElement("button");n.className="shop-button",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-bag"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg><span>Shop</span>',i.adDivComponent.appendChild(n);for(var o,r=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,void 0):void 0}}(t))){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.items);!(o=r()).done;){var a=o.value,d=a.description.length>70?a.description.slice(0,70)+"...":a.description,s=document.createElement("a");s.className="ad_item_card",s.href=a.redirectUrl,s.target="_blank",s.innerHTML='\n      <img src="'+a.imageUrl+'" alt="'+a.title+'"/>\n      <div class="ad_item_card_content">\n        <h3 class="title">'+a.title+'</h3>\n        <p class="description">'+d+'</p>\n        <p class="price">'+a.price+"</p>\n      </div>\n      ",i.adDivComponent.appendChild(s)}if(t.items.length>0){var m=document.createElement("p");m.className="or_text",m.innerHTML="OR",i.adDivComponent.appendChild(m)}if(t.qrData){var p=document.createElement("div");p.className="qr_container",p.innerHTML='\n      <img src="'+t.qrData.qrImageUrl+'" alt="'+t.qrData.title+'"/>\n      <p>'+t.qrData.title+"</p>\n      ",i.adDivComponent.appendChild(p)}i.adDivComponent.style.display="flex"}}else console.error("Ad element is not present",{method:"displayAd",adDivComponent:i.adDivComponent,componentsData:i.componentsData})},this.redirectToAd=function(){try{if(!i.componentsData)return;i.video.pause()}catch(e){console.error(e)}},this.parentElement=void 0,this.intervalId=void 0}return i.prototype.removeAd=function(){var e;clearInterval(this.intervalId),this.isInitialized=!1,this.adDivComponent=void 0,this.currentComponentIndex=0,this.removeCurrentAdElement(document.getElementById("hotstar_ad_plugin")),null==(e=document.getElementById("hotstar_ad_plugin"))||e.remove()},i}());console.log("ads_plugin@0.1.18"),exports.AdComponent=i;
//# sourceMappingURL=hotstar_plugin.cjs.production.min.js.map
