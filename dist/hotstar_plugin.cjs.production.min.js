"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Object.defineProperty(exports,"__esModule",{value:!0}),require("platform"),function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".hotstar_ad_component_wrapper{align-items:end;box-sizing:border-box;display:flex;flex-direction:row;font-family:inherit;height:100%;left:0;padding-bottom:7.5rem;padding-left:7rem;padding-right:7rem;position:absolute;top:0;width:100%;z-index:100}.hotstar_ad_component_wrapper .or_text{color:#fff;font-size:1rem;font-weight:500;height:10rem;margin-left:auto;margin-right:auto}.hotstar_ad_component_wrapper .shop-button{align-items:center;background-color:#000000ad;border-radius:8px;color:#fff;display:flex;flex-direction:column;font-weight:500;gap:4px;height:6rem;justify-content:center;padding:10px;width:6rem}.hotstar_ad_component_wrapper .shop-button span{font-family:inherit;font-size:.6rem;font-weight:500}.hotstar_ad_component_wrapper .shop-button svg{height:.6rem;width:.6rem}.hotstar_ad_component_wrapper .ad_item_card{align-items:normal;background-color:#000000ad;border-radius:8px;cursor:pointer;display:flex;flex-direction:row;font-family:inherit;height:6rem;margin-left:1rem;padding:10px;width:21vw}.hotstar_ad_component_wrapper .ad_item_card img{border-radius:8px;height:auto;-o-object-fit:cover;object-fit:cover;width:30%}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content{display:flex;flex-direction:column;font-family:inherit;padding:0 10px;width:70%}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .footer{align-items:center;display:flex;flex-direction:row;justify-content:space-between}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .footer .delivery_time{align-items:center;color:#fff;display:flex;flex-direction:row;font-family:inherit;font-size:.6rem;gap:4px;margin-top:.4rem}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .footer .delivery_time p{font-size:.6rem;font-weight:500}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .delivery_time svg{height:.6rem;width:.6rem}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .price span{font-family:inherit;font-size:.6rem;font-weight:500}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .price .previous_price{color:#ffffffb3;font-family:inherit;font-size:.6rem;text-decoration:line-through}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .price .discount{font-family:inherit;font-size:.6rem}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .title{color:#fff;font-family:inherit;font-size:.8rem;font-weight:500}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .description{color:#ffffffb3;font-family:inherit;font-size:.9rem;margin-top:2px}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .price{color:#fff;font-family:inherit;font-size:.6rem;font-weight:500;margin-top:2px}.hotstar_ad_component_wrapper .ad_item_card .ad_item_card_content .footer .brand{width:4rem}.hotstar_ad_component_wrapper .qr_container{background-color:#00000079;border-radius:8px;display:flex;flex-direction:column;height:20rem;padding:1rem;width:18rem}.hotstar_ad_component_wrapper .qr_container img{border-radius:8px;height:auto;-o-object-fit:contain;object-fit:contain;width:100%}.hotstar_ad_component_wrapper .qr_container p{color:#fff;font-size:1rem;font-weight:500;margin-top:1rem;text-align:center}@media only screen and (max-width:650px){.hotstar_ad_component_wrapper{bottom:20%}@media(orientation:landscape){.maxtap_main>p{font-size:calc(1vw + .2rem)}}@media (orientation:portrait){.maxtap_main>p{font-size:calc(1vw + .3rem)}}}");var t={1000063091:{contentId:"1000063091",triggerPoints:[{startTime:5,endTime:10,ads:[{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",title:"Veg Cheese Pizza",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹149",previousPrice:"₹299",discount:"50% off for Hotstar users",redirectUrl:"https://swiggy.com/search?query=dominos+pizza",deliveryTime:"28 mins",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy.png",brandColor:"#FC8019",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/pizza-swiggy.png",title:"Cheese Volcano Blazing Chicken"}}]},{startTime:12,endTime:15,ads:[{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",title:"Veg Cheese Pizza",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹149",previousPrice:"₹299",discount:"50% off for Hotstar users",redirectUrl:"https://swiggy.com/search?query=dominos+pizza",deliveryTime:"28 mins",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy.png",brandColor:"#FC8019",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/pizza-swiggy.png",title:"Cheese Volcano Blazing Chicken"}},{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/oqaxbzhq3wxnyz09upie",title:"Mango Shrikhand",description:"Our most selling shrikhad with rich kesar taste",price:"₹100",previousPrice:"₹199",discount:"50% off for Hotstar users",redirectUrl:"https://www.swiggy.com/search?query=shrikhand",deliveryTime:"7 mins",brandColor:"#FC8019",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy.png",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/shrikhand-swiggy.png",title:"Mango Shrikhand"}}]},{startTime:17,endTime:25,ads:[{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/FOOD_CATALOG/IMAGES/CMS/2024/7/4/4e30b1ff-dbe8-41d3-b083-d46b9d742ffc_636d161e-7f34-4371-b63c-bf9e3d091a0f.jpg",title:"Veg Cheese Pizza",description:"Centre loaded with Molten Cheese & topped with Onion, Capsicum, Tomato & Grilled Mushroom *Contains non-edible container under the Pizza",price:"₹149",previousPrice:"₹299",discount:"50% off for Hotstar users",redirectUrl:"https://swiggy.com/search?query=dominos+pizza",deliveryTime:"28 mins",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy.png",brandColor:"#FC8019",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/pizza-swiggy.png",title:"Cheese Volcano Blazing Chicken"}},{imageUrl:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/oqaxbzhq3wxnyz09upie",title:"Mango Shrikhand",description:"Our most selling shrikhad with rich kesar taste",price:"₹100",previousPrice:"₹199",discount:"50% off for Hotstar users",redirectUrl:"https://www.swiggy.com/search?query=shrikhand",deliveryTime:"7 mins",brandColor:"#FC8019",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy.png",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/shrikhand-swiggy.png",title:"Mango Shrikhand"}},{imageUrl:"https://instamart-media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,h_600/d2fe71ba49d3e43af5d99a3ce3ef5a1b",title:"Amul Fresh Cream",description:"Cook with Sanjeev Kapoor",price:"₹220",redirectUrl:"https://swiggy.com/instamart/search?query=cream",deliveryTime:"6 mins",brandColor:"#FC8019",brandLogoUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/brands/swiggy-instamart.png",qrData:{qrImageUrl:"https://raw.githubusercontent.com/prakhar-goel/hotstar-quickcommerce-hackathon/main/assets/qr-codes/amulcream-swiggy.png",title:"Amul Fresh Cream"}}]}]}},n=function(){for(var e=document.querySelectorAll("video"),t=0;t<e.length;t++)if("VIDEO"===e[t].tagName)return e[t]},o=function(){var e=document.querySelector("[data-displaymaxtap]"),t=document.querySelector(".maxtap_img_wrapper");if(document.querySelector(".maxtap_img_wrapper")&&window.innerWidth>740&&e&&t){var n=.05*e.getBoundingClientRect().width;t.style.width=n>50?n+"px":"50px"}},r=new(function(){function r(){var r=this;this.currentComponentIndex=-1,this.isInitialized=!1,this.init=function(e){var a;if(r.isInitialized||document.getElementById("hotstar_ad_plugin"))console.log("Re-Initializing");else if(e.contentId)try{if(r.isInitialized=!0,r.contentId=e.contentId,"undefined"==typeof window)throw new ReferenceError("'window.document' is undefined while initializing Ads. Initialize in lifecyle events");r.video=n(),(a=r.contentId,new Promise((function(e,n){try{t[a]?e(t[a].triggerPoints):n("No data found")}catch(e){n(e)}}))).then((function(e){r.componentsData=e,r.componentsData?(r.addAdElement(),window.addEventListener("resize",(function(){o()})),r.intervalId=setInterval(r.updateComponent,300)):console.error("Ad data is empty!")})).catch((function(e){console.error(e)}))}catch(e){console.error(e),r.isInitialized=!1}else console.error("ContentId is missing")},this.updateComponent=function(){if(r.video){if(!r.adDivComponent)return r.addAdElement(),void console.error("Ad element is not present",{method:"updateComponent"});if(r.componentsData)if(r.video.parentElement===r.adDivComponent.parentElement||(console.error("Ad element is not sibling to video element",{method:"updateComponent"}),r.adDivComponent.remove(),r.addAdElement())){var e=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t>=o.startTime&&t<=o.endTime)return n}return-1}(r.componentsData,Math.floor(r.video.currentTime));console.log("newAdComponentIndex",e),e<0?r.removeCurrentAdElement(r.adDivComponent):(r.currentComponentIndex=e,r.canCloseAd(Math.floor(r.video.currentTime))&&"none"!==r.adDivComponent.style.display&&(console.log("Removing ad",{methodName:"updateComponent"}),r.removeCurrentAdElement(r.adDivComponent)),r.canAdDisplay(Math.floor(r.video.currentTime))&&r.adDivComponent&&"none"===r.adDivComponent.style.display&&(console.log("Displaying ad",{methodName:"updateComponent"}),r.displayAd()))}else console.error("Ad element is not present",{method:"updateComponent"});else console.error("Ad data is empty!",{method:"updateComponent"})}else r.video=n()},this.addAdElement=function(){var e;return!!r.video&&(r.video.style.width="100%",r.video.style.height="100%",r.parentElement=r.video.parentElement,!!r.parentElement&&(r.parentElement.style.position="relative",r.adDivComponent=document.createElement("div"),r.adDivComponent.style.display="none",r.adDivComponent.id="hotstar_ad_plugin",r.adDivComponent.className="hotstar_ad_component_wrapper",null==(e=r.parentElement)||e.appendChild(r.adDivComponent),r.adDivComponent.addEventListener("click",r.redirectToAd),o(),!0))},this.canAdDisplay=function(e){var t=r.componentsData[r.currentComponentIndex];return!(t.startTime<0||!r.componentsData||!t)&&e<r.componentsData[r.currentComponentIndex].endTime&&e>r.componentsData[r.currentComponentIndex].startTime},this.canCloseAd=function(e){return!r.componentsData||!(r.componentsData[r.currentComponentIndex].startTime<0)&&(e>r.componentsData[r.currentComponentIndex].endTime||e<r.componentsData[r.currentComponentIndex].startTime)},this.removeCurrentAdElement=function(e){e&&(e.style.display="none",e.innerHTML="")},this.displayAd=function(){if(r.adDivComponent&&r.componentsData){if("flex"!==r.adDivComponent.style.display&&!(r.currentComponentIndex<0)&&r.componentsData[r.currentComponentIndex]){var t=r.componentsData[r.currentComponentIndex];t.ads.length>3&&(t.ads=t.ads.slice(0,3));var n=document.createElement("button");n.className="shop-button",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-bag"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg><span>Shop</span>',r.adDivComponent.appendChild(n);for(var o,a=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,void 0):void 0}}(t))){o&&(t=o);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.ads);!(o=a()).done;){var i=o.value,s=i.description.length>70?i.description.slice(0,70)+"...":i.description,d=document.createElement("a"),c=i.title,m="",p="";i.previousPrice?m='<p class="price">\n          <strong>'+i.price+'</strong>\n          <span class="previous_price">'+i.previousPrice+'</span>\n          <span class="discount" style="color:'+i.brandColor+'!important;">('+i.discount+")</span>\n        </p>":(c=i.title+" ("+i.price+")",p='<p class="description">'+s+"</p>"),d.className="ad_item_card",d.href=i.redirectUrl,d.target="_blank",d.innerHTML='\n      <img src="'+i.imageUrl+'" alt="'+i.title+'"/>\n      <div class="ad_item_card_content">\n        <h3 class="title">'+c+"</h3>\n        "+p+"\n        "+m+'\n        <div class="footer">\n          <div class="delivery_time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><p>'+i.deliveryTime+'</p></div>\n          <img class="brand" src="'+i.brandLogoUrl+'" alt="brand-logo"/>\n        </div>\n      </div>\n      ',r.adDivComponent.appendChild(d)}if(t.qrData){var l=document.createElement("div");l.className="qr_container",l.innerHTML='\n      <img src="'+t.qrData.qrImageUrl+'" alt="'+t.qrData.title+'"/>\n      <p>'+t.qrData.title+"</p>\n      ",r.adDivComponent.appendChild(l)}r.adDivComponent.style.display="flex"}}else console.error("Ad element is not present",{method:"displayAd",adDivComponent:r.adDivComponent,componentsData:r.componentsData})},this.redirectToAd=function(){try{if(!r.componentsData)return;r.video.pause()}catch(e){console.error(e)}},this.parentElement=void 0,this.intervalId=void 0}return r.prototype.removeAd=function(){var e;clearInterval(this.intervalId),this.isInitialized=!1,this.adDivComponent=void 0,this.currentComponentIndex=0,this.removeCurrentAdElement(document.getElementById("hotstar_ad_plugin")),null==(e=document.getElementById("hotstar_ad_plugin"))||e.remove()},r}());console.log("ads_plugin@0.1.18"),exports.AdComponent=r;
//# sourceMappingURL=hotstar_plugin.cjs.production.min.js.map
